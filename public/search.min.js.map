{"version":3,"sources":["search.js"],"names":["_toConsumableArray","arr","_arrayWithoutHoles","_iterableToArray","_unsupportedIterableToArray","_nonIterableSpread","TypeError","o","minLen","n","_arrayLikeToArray","Object","prototype","toString","call","slice","constructor","name","Array","from","test","iter","Symbol","iterator","isArray","len","length","i","arr2","document","search","push","searchHeadlines","addEventListener","results","lang","searchTerms","getElementById","value","trim","split","searchFields","forEach","e","t","s","innerText","toLowerCase","indexOf","innerHTML","replace","RegExp","match","concat","getAttribute","hint","resultHint","style","display","preventDefault","querySelectorAll","showHint","apply","searchTexts","clear"],"mappings":"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","file":"search.min.js","sourcesContent":["\"use strict\";\n\n(function () {\n    document.addEventListener(\"DOMContentLoaded\", function () {\n\n        if(document.querySelector('.mod_faqpage')) {\n            let results = 0,\n                searchFields = [],\n                searchHeadlines = document.querySelectorAll('.mod_faqpage section h3'),\n                searchTexts = document.querySelectorAll('.mod_faqpage section .ce_text p'),\n\n                html = document.getElementsByTagName('html'),\n                lang = html[0].getAttribute('lang'),\n\n                resultHint = document.getElementById('result_hint'),\n                hint = '';\n\n            searchFields.push(...searchHeadlines);\n            searchFields.push(...searchTexts);\n\n            function showHint(results) {\n\n                if(results) {\n                    // ToDo: implement translations via data attribute\n                    if(lang == 'de') hint = `Es wurden ${results} Treffer gefunden und <mark>markiert</mark>.`;\n                    if(lang == 'en') hint = `${results} results found and <mark>marked</mark>.`;\n                }\n                else {\n                    // ToDo: implement translations via data attribute\n                    if(lang == 'de') hint = `Es wurden leider keine Treffer gefunden.`;\n                    if(lang == 'en') hint = `Sorry, no results found.`;\n                }\n\n                resultHint.style.display = 'block';\n                resultHint.innerHTML = hint;\n            }\n\n            function search() {\n                const searchTerms = document.getElementById('ctrl_faq_keywords').value.trim().split(\",\");\n                searchFields.forEach(function(e, i) {\n                    if(searchTerms.length >= 1 && searchTerms[0] !== '') {\n                        searchTerms.forEach(function(t, i) {\n                            if(e.innerText.toLowerCase().indexOf(t.toLowerCase()) >= 0) {\n                                let s = e.innerHTML;\n                                e.innerHTML = s.replace(\n                                    new RegExp(t, 'ig'),\n                                    function(match) {\n                                        results = results+1;\n                                        return `<mark>${match}</mark>`;\n                                    }\n                                )\n                            }\n                        })\n                    }\n                })\n                showHint(results);\n            }\n\n            // ToDo: Hinweisbox vereinfachen\n            function clear() {\n                results = 0;\n                resultHint.style.display = 'none';\n\n                document.getElementById('ctrl_faq_keywords').value = '';\n\n                searchFields.forEach(function(e, i) {\n                    const s = e.innerHTML;\n                    e.innerHTML = s.replace(/<mark>/g, \"\").replace(/<\\/mark>/g, \"\")\n                })\n            }\n            document.getElementById('ctrl_submit_faqsearch').addEventListener('click', function(e){\n                e.preventDefault();\n                search();\n            });\n            document.getElementById('ctrl_faq_keywords').addEventListener('focus', function(e){\n                e.preventDefault();\n                clear();\n            });\n            // ToDo: Reset-Button f√ºr Eingabefeld funzt nicht\n            document.getElementById('ctrl_reset_faqsearch').addEventListener('click', function(e){\n                e.preventDefault();\n                clear();\n            });\n        }\n    })\n})();\n"]}